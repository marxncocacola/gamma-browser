

//  Let's add a "space" object to our big XM object.
//  That will keep it nicely packaged away.

XM.space = {


	//  Add a brand new "space" filter.
	//  We accept a generic template filter (f) as input
	//  then we modify it and return it to the
	//  generic template generator.
	
	add: function( f )
	{
		var mapResolution = 12;
		
		
		//  We're going to store these important variables
		//  right in the filter's DOM element!
		//  This make it life super convenient:
		//  We just ask the filter itself what its settings are. 
		
		f.data( 'north',  50 );
		f.data( 'east',  -66 );
		f.data( 'south',  24 );
		f.data( 'west', -126 );
		f.data( 'resolution', mapResolution );
		
		
		//  Here we're going to build out the guts of our filter
		//  which will fit into the generic template filter's empty TABLE.
		
		var obj = $( '<tr/>' );
		obj.addClass( 'explorer' );
		var html = '';
		//html += '<td colspan="2">';
		//html += '	<div class="callOutCanvas"></div>';
		html += '<td colspan="2"><canvas></canvas></td>';
		//html += '</td>';
		html += '<td class="top controls">';
		html += '	<div class="pad center">';
		html += '		Resolution<br /><span class="mapRes">' + mapResolution + '</span> &times; <span class="mapRes">' + mapResolution + '</span><br /><br />';
		html += '		<div class="gridSlider"></div>';
		html += '		<div class="clear"></div><br />';
		html += '		<input type="checkbox" class="3dtoggle" id="3dtoggle" /><label for="3dtoggle">3D</label>';
		html += '		<div class="clear"></div>';
		html += '	</div>';		
		html += '</td>';
		obj.html( html );


		//  And here we go: we take those guts we just built
		//  and add them right into the template filter's innards.

		f.find( 'table' ).append( obj );
		
		
		//  Let's take care of some other creation overhead
		
		f.find( '.filterIcon' ).addClass( 'filterIconSpace' );
		f.find( '.3dtoggle' ).button();
		f.find( '.3dtoggle' ).click( function()
		{
			f.data( 'mapIs3D', !f.data( 'mapIs3D' ));
		});
		f.find( '.gridSlider' ).slider(
		{
			value: mapResolution,
			min:  4,
			max: 48,
			step: 4,
			orientation: 'vertical',
			slide: function( event, ui )
			{
				XM.mapResUpdate( f, ui );
			},
			stop: function( event, ui )
			{
				XM.mapResStop( f, ui );
			}
		});
		f.find( '.gridSlider' ).val( f.find( '.gridSlider' ).slider( 'value' ));
		
		
		//  Time to startup Processing-JS.

		var canvas = f.find( 'canvas' )[0];
		var p = new Processing( canvas, XM.mapViewer );
		f.data( 'onAdd', function()
		{
			if( XM.debug )
			{
				console.log( '\nWhat does this Processing instance think it\'s attached to?' );
				console.log( p.externals.canvas );
			};
			XM.mapResStop( f, mapResolution );
		});
		
		
		//  This is really important for performance reasons.
		//  When we're done with a Processing sketch we must exit() it
		//  otherwise it will continue to chew up memory and heat the CPU
		//  even when we remove its DOM element!
		//  If a user removes this filter then the "onRemove" function
		//  will be called just before the DOM element is removed.
		
		f.data( 'onRemove', function()
		{
			
			//  Here's part of the magic of JavaScript:
			//  Q: Where did this "p" variable come from?
			//  A: A few lines above when we set it equal to our new Processing sketch.
			//  Q: But how the fuck do we still have access to it
			//     when this "onRemove" function is called at some point in the future
			//     given that this whole "add()" function returned a long time ago?
			//  A: Because JavaScript is lexically scoped! Closure FTW!
			//     Google for "JavaScript closure" to learn more.
			
			p.exit();
		});

		return f;
	}

	
};








//  These need to exist outside of the Processing sketch.
//  Ultimately they should be included in the XM.space{} object
//  but getting shit off the ground by any means was more important
//  than re-revising the structure.

XM.mapResUpdate = function( element, ui )
{
	var f = $( element ).closest( '.filter' );
	f.find( '.mapRes' ).html( ui.value );
	f.data( 'resolution', ui.value );
	var html = 'located within ';
	html += '<strong>North ' + f.data( 'north' ).abs() + '&deg;</strong>, ';
	html += '<strong>South ' + f.data( 'south' ).abs() + '&deg;</strong>, ';
	html += '<strong>East ' + f.data( 'east' ).abs() + '&deg;</strong>, ';
	html += '<strong>West ' + f.data( 'west' ).abs() + '&deg;</strong>.';
	f.find( '.summary' ).html( html );
};
XM.mapResStop = function( element, ui )
{
	var f = $( element ).closest( '.filter' );
	XM.mapResUpdate( f, ui );
	XM.filter.apply( f, ui.value, function( data )
	{
		f.data( 'mapBins', data );
		f.data( 'tagBin', [] );
		f.data( 'mapNeedsReset', true );
	});
};








//  Can this all be moved into the Processing sketch?
//  If not, we should also include this in XM.space{}
//  because otherwise we're really starting to pollute the XM{} object
//  which everyone needs to be able to use.

XM.hoverData = function( element, xM, yM, totalIn )
{	
	var f = $( element ).closest( '.filter' );
	var canvas = f.find( '.callOutCanvas' );
	canvas.text( totalIn + " items" );
	canvas.css( 'left', xM );//  pretty sure we can redesign this to be totally relatively positioned!
	canvas.css( 'top',  yM );
};
XM.containerClicked = function( element, binIndex )
{
	var f = $( element ).closest( '.filter' );
	var mapBins = f.data( 'mapBins' ).slice();
	for( var i = 0; i < mapBins.length; i ++ )
	{
		if( mapBins[ i ][ 'bin' ] == binIndex )
		{
			console.log( 'Clicked bin: ' + mapBins[ i ] );
			XM.fillMapTrayAndTags( f, mapBins[ i ] );
		};
	};
};
XM.fillMapTrayAndTags = function( element, bin )
{	
	var f = $( element ).closest( '.filter' );
	/*
	f.data( 'north', bin.geo[ 'north' ] );
	f.data( 'east',  bin.geo[ 'east'  ] );
	f.data( 'south', bin.geo[ 'south' ] );
	f.data( 'west',  bin.geo[ 'west'  ] );*/
	
	XM.filter.apply( f, 0, function( data )
	{
		var summary = $( $( '#results .summary .pad' )[0] );
		/*var html = 'Your filter';
		if( $('.filter').length > 1 ) html += 's';
		html += ' returned '+ data.length +' results.';*/
		html = 'Returned '+ data.length + ' results';
		summary.html( html );
		
		var tray = $( $( '#results .items' )[0] );
		tray.empty();
		for( var i = 0; i < data.length; i ++ )
		{
			if( data[i].id )//  for some reason server sending back multiple arrays of tags mixed in with our data!?!
			{
				var d = $( '<div>' );
				d.addClass( 'item' );
				var html = '<img src="http://mlhplayground.org/Symfony/web/images/thumbs/';
				html +=  data[ i ].id + '_s.jpg" alt="' + data[ i ].title + '" title="' + data[ i ].title + '" />';
				d.html( html );
				tray.append( d );
			};
		};
		d = $( '<div>' );
		d.addClass( 'clear' );
		tray.append( d );
		
		tray.sortable({ containment: 'parent' });
		tray.disableSelection();
		
		$( '#results' ).show();
	});
};








    ////////////////////
   //                //
  //   Processing   //
 //                //
////////////////////


//  Here we are. Processing. A new one of these is created
//  each time we add a new "space" filter. 
//  So as long as we're storing our variables either:
//      right in here as instances
//  or
//      up in the filter's DOM element that this is attached to
//  then everything is A O K.

XM.mapViewer = function( processing )
{
	processing.frameRate( 12 );
	processing.use3DContext = true;
		

	//  Store data in this Filter's DOM object
	//  instead of global variables.
	//  This way everything is neatly packaged
	//  and allows for multiple maps.

	var f = $( processing.externals.canvas ).closest( '.filter' );


	
	
	//@@  How much of this can we reduce?

	var pressed 	 = false;	
	var indexFocus 	 = -1;
	var hvrIndex	 = -1;
	var rotateTarget = 0.0;
	var easeRotate 	 = 0.0;
	var easeBox		 = 0.0;
	var boxMin		 = 0.01;
	var boxTarget    = boxMin;
	var bHlerp		 = boxMin;
	var bH			 = 10;//boxMin;
	var maxZ		 = 350;
	var containers   = [];//  Do we really need this to persist?
	var container    = {
		
		quant   	: 0,
		qWidth  	: 0,
		qHeight 	: 0,
		dWidth  	: ( 100 ).random(),
		dHeight 	: ( 100 ).random(),
		xLoc    	: 0,
		yLoc    	: 0,
		doesContain : false,
		click   	: false,
		bindex  	: -1,
		boxH	 	: 0.01,
		tags		: []
	};


	//@@
	//  I don't think we actually need to store these guys in the DOM element.
	//  In future let's try them as instance variables in this scope.
	
	f.data( 'mapIs3D', false );
	f.data( 'mapNeedsReset', false );
	f.data( 'mapBins', [] );




	processing.setup = function()
	{
		if( f.data( 'mapNeedsReset' ) == false )
		{
			processing.size( 800, 400, processing.OPENGL );//  Was 940 x 550
		};
		gridStepX = processing.width  / f.data( 'resolution' );
		gridStepY = processing.height / f.data( 'resolution' );
		loadBins( f.data( 'resolution' ));
		f.data( 'mapNeedsReset', false );
	};


	processing.draw = function()//  We should stop drawing when the Explorer is collapsed! or window.onBlur() !
	{
		if( f.data( 'mapNeedsReset' )) processing.setup();


		//  Map Rotation

		var rotateTarget = f.data( 'mapIs3D' ) ? 1 : 0;
		easeRotate = processing.lerp( easeRotate, rotateTarget, 0.1 ) * Math.PI / 3.5;
		var rotateActual = easeRotate;
		var centerX = processing.width / 2;
		var centerY = processing.height / 2 + 250;
		processing.translate(  centerX,  centerY );
		processing.rotateX( rotateActual );
		processing.translate( -centerX, -centerY );
		

		//  How THE FUCK is it that Processing-JS draws in REVERSE order?!

		drawBins();
		drawBorders( 'US' );
		drawBorders( 'CA' );
		drawBorders( 'MX' );
		drawGrid();

		processing.rotateX( -rotateActual );
	};


	processing.mousePressed = function()
	{
		pressed = true;	
	};
	



	var doesContain = function( xp, yp, x, y ) 
	{ 
		var i, j;
		var c = false;
		var npol = xp.length;
		for( i = 0, j = npol-1; i < npol; j = i ++ )
		{
			if((( (yp[i] <= y) && (y < yp[j]) ) ||
			      ( (yp[j] <= y) && (y < yp[i]) ) )   &&
		         (x < (xp[j] - xp[i]) * (y - yp[i]) / (yp[j] - yp[i]) + xp[i]))
			{
				c = !c;
			};
		};
		return c;
	};
	
	
	
	
	var checkTagHover = function( index, xIn, yIn )
	{

		//  Is the mouse hovering over our expanded bar?
		
		var xLoc = containers[ index ].xLoc;
		var yLoc = containers[ index ].yLoc;
		var qH	 = containers[ index ].qHeight;
		var qW	 = containers[ index ].qWidth;
		var bxH  = maxZ;//containers[ index ].boxH;

		var xp = [];
		var yp = [];

		xp[ 0 ] = processing.screenX( xLoc,    yLoc+qH , bxH );
		yp[ 0 ] = processing.screenY( xLoc,    yLoc+qH , bxH );
		xp[ 1 ] = processing.screenX( xLoc+qW, yLoc+qH , bxH );
		yp[ 1 ] = processing.screenY( xLoc+qW, yLoc+qH , bxH );
		xp[ 2 ] = processing.screenX( xLoc+qW, yLoc+qH , 0 );
		yp[ 2 ] = processing.screenY( xLoc+qW, yLoc+qH , 0 );
		xp[ 3 ] = processing.screenX( xLoc,    yLoc+qH , 0 );
		yp[ 3 ] = processing.screenY( xLoc,    yLoc+qH , 0 );

		return doesContain( xp, yp, xIn, yIn );	
	};

	
	
	
	var loadBins = function( gridSize )
	{
		var numOfContainers = f.data( 'mapBins' ).length;
		var numOfTags		= 5;
		var maxQuant		= 0;
		    maxZ			= 350;
			indexFocus      = -1;
		var tagCountMax		= 0;//  TEMP tag variables
		containers = [];//  Reset this guy


		//console.log( 'number of containers: '+ numOfContainers );
		for( var i = 0; i < numOfContainers; i ++ )
		{
			var tempContain    = Object.create( container );
			var binIndex       = f.data( 'mapBins' )[ i ][ 'bin' ];
			tempContain.xLoc   = ( binIndex % gridSize ) * gridStepX;
			tempContain.yLoc   = processing.floor( binIndex / gridSize ) * gridStepY;
			tempContain.quant  = parseInt( f.data( 'mapBins' )[ i ].total, 10 );
			tempContain.bindex = parseInt( binIndex, 10 );

			console.log( 'what\'s our bin index? ' + binIndex );
			console.log( 'what\'s our grid size? ' + gridSize );
			console.log( 'what\'s our gridStepX? ' + gridStepX );
			console.log( 'what\'s our gridStepY? ' + gridStepY );


			/*if( i == indexFocus )//  FAKE tags here
			{
				tempContain.tags = f.data( 'tagBin' );
				for( var ti = 0; ti < tempContain.tags.length; ti ++ )
				{
					tempContain.boxH += tempContain.tags[ ti ].total * 1.0;
				};
			};*/
			for( var jj = 0; jj < numOfTags; jj++ )
			{
				var tempTag  = ( 100 ).random();
				tagCountMax += tempTag;
				tempContain.tags[ jj ] = tempTag;
			}
			for( var jj = 0; jj < numOfTags; jj ++ )
			{
				tempContain.tags[ jj ] /= tagCountMax;
			}
			maxQuant = Math.max( maxQuant, tempContain.quant );
			containers[ i ] = tempContain;
		};
		
		
		for( i = 0; i < containers.length; i ++ )
		{
			var qnt = containers[ i ].quant;
			var gridScalar = processing.map( gridSize, 4, 60, 0.02, 0.5 );
			containers[ i ].qWidth  = processing.map( qnt, 0, maxQuant, gridScalar*gridStepX, gridStepX );
			containers[ i ].qHeight = processing.map( qnt, 0, maxQuant, gridScalar*gridStepY, gridStepY );
			containers.boxH = maxZ;
		};
		console.log( containers );
	};
	
	
	
	
	var drawBins = function()
	{
//		console.log( 'drawBins... '+ f );
		var xM = processing.mouseX;
		var yM = processing.mouseY;
		var rectState = 0;
		for( var i = 0; i < containers.length; i ++ )
		{
			rectState = 0;
			var sv1x = processing.screenX( containers[ i ].xLoc, containers[ i ].yLoc, bH );
			var sv1y = processing.screenY( containers[ i ].xLoc, containers[ i ].yLoc, bH );
			var sv2x = processing.screenX( containers[ i ].xLoc+gridStepX, containers[ i ].yLoc, bH  );
			var sv4y = processing.screenY( containers[ i ].xLoc+gridStepX, containers[ i ].yLoc+gridStepY, bH );

			if( xM >= sv1x && xM < sv2x && yM >= sv1y && yM < sv4y )
			{
				rectState = 1;		
				if( pressed )
				{
					if(indexFocus == i )
					{ 
						indexFocus 	= -1;		// deselect everything.
					} 
					else						    // new selected bin
					{
						indexFocus 	= i;		
						bH 			= boxMin;
						bHlerp		= boxMin;
						boxTarget 	= boxMin;
						console.log( 'container clicky clicked and f = '+ f );
						XM.containerClicked( f, containers[ i ].bindex );
					};
					pressed = false;
				};
				// hover data to pass back to jQuery
				if( i != hvrIndex )
				{ 	
					XM.hoverData( f, sv1x, sv1y , containers[ i ].quant ); 
					hvrIndex = i; 
				};
			};
			

			if( indexFocus ==  i  ){ rectState = 2; }
			if( $(f).data( 'mapIs3D' ) && indexFocus ==  i  )
			{ 	
				if( checkTagHover(  i , xM, yM )) rectState = 3; 
			};
				
			
			processing.noStroke();
			switch( rectState )
			{

				//  Gray square. Unselected. Flat Height
				case 0:
					processing.fill( 0xCC );
					processing.stroke( 0xFF );
					bH = boxMin;
					break;


				//  Hover Square. Unselected. Flat Height
				case 1:
					processing.fill( 0xFF );
					processing.stroke( 0xFF );
					bH = boxMin;
					break;


				//  Selected Square. Lerp'd height to boxH
				case 2:
				case 3:
					processing.fill( 0xFF, 0x33, 0x00 );
					if(  f.data( 'mapIs3D' ))
					{
						processing.strokeWeight( 1 );
						processing.stroke( 0xFF, 0x99, 0x66 );
						boxTarget = containers[ i ].boxH;
						//console.log( '\n\nlerp before: ' + bHlerp );
						//console.log( 'box target: ' + boxTarget );
					 	bHlerp = processing.lerp( bHlerp, boxTarget, 0.3 );
						//console.log( 'lerp after: ' + bHlerp );
						bH = bHlerp;
						bH = 120;// fuck it. we'll come back to this. must be a scope issue?
					}
					else
					{
						bH = boxMin;
					};
					break;
			};
			var xPos = containers[ i ].xLoc + containers[ i ].qWidth  / 2;
			var yPos = containers[ i ].yLoc + containers[ i ].qHeight / 2;
			
			processing.translate( xPos , yPos , bH/2 );
			processing.box( containers[ i ].qWidth, containers[ i ].qHeight, bH );
			processing.translate( -xPos , -yPos, -bH/2 );
			processing.noStroke();
		};	
	};




	//  Our map's background grid visually divides the map into cells
	//  that are the same size as our "map bins".

	var drawGrid = function()
	{
		processing.noFill();
		processing.strokeWeight( 1 );
		processing.stroke( 0xAA );//  a little bit of hexadecimal never hurt.
		for( var i = 0; i <= processing.width;  i += gridStepX )
		{
			processing.line( i, 0, i, processing.height );
		};
		for( var i = 0; i <= processing.height; i += gridStepY )
		{
			processing.line( 0, i, processing.width, i );
		};
	};




	//  We don't need a loadBorders() because there's no line between
	//  having variables in one file and using those variables in another.
	//  Everything can be passed to everything else.
	//  So we'll just go ahead and use XM.nations[] because that's where
	//  we've stored our border data. (See the bottom of this file.)

	var drawBorders = function( iso2 )
	{
		processing.noFill();		
		processing.stroke( 130 );
		if( iso2 == 'US' ) processing.stroke( 100 );//  Make the US stand out more since it's our focus.
		processing.strokeWeight( 2 );
		nation = XM.nations[ iso2 ];
		for( var b = 0; b < nation.borders.length; b ++ )
		{
			processing.beginShape();
			for( var polygon = 0; polygon < nation.borders[ b ].length; polygon ++ )
			{
				var lat = nation.borders[ b ][ polygon ].lat;
				var lng = nation.borders[ b ][ polygon ].lng;


				//  We can just pull our current North, South, East, West boundaries
				//  right out of this space filter's DOM element via f.data();
				//  Nice way to read and write so it's accessible to all of this filter's
				//  little functions.

				var y = lat.map( f.data('north'), f.data('south'), 0, processing.height );
				var x = lng.map( f.data('west'),  f.data('east'),  0, processing.width  );

				processing.vertex( x, y );
			};
			processing.endShape();
		};
	};
};








//  National Borders and Stats Data
//  I've reduced this to only the three nations we need to save tons of memory
//  and once I did that reduction it made sense to just stick it right here
//  rather than as a separate file.

XM.nations = {
	'CA' : {name:"Canada", borders:[[[-125.28858948,49.9982605],[-124.77785492,49.49976349],[-123.7462616,49.06631088],[-123.31989288,48.4861412],[-123.83963013,48.34000015],[-125.53665924,48.81691742],[-125.84662628,49.18969727],[-126.77155304,49.55722427],[-126.95761108,49.85649872],[-128.02130127,50.04547119],[-128.41955566,50.61689377],[-128.3303833,50.86000061],[-127.24551392,50.63100815],[-126.61141205,50.47176361],[-125.6399765,50.36053848],[-125.28858948,49.9982605],[-125.28858948,49.9982605]],[[-79.00989532,43.27000046],[-79.36168671,43.20238113],[-79.76039124,43.29719162],[-79.46107483,43.63920975],[-79.15607452,43.75743103],[-78.45046997,43.90317917],[-77.60534668,44.03931046],[-77.16138458,43.85015106],[-76.88269043,44.0694809],[-76.56555176,44.2080307],[-76.375,44.09630966],[-75.31814575,44.81644821],[-74.86688995,45.00048065],[-73.34772491,45.00738144],[-71.50495148,45.0082016],[-71.40493774,45.25500107],[-71.08473206,45.30524063],[-70.65994263,45.45999908],[-70.30498505,45.91500092],[-69.99990845,46.69306946],[-69.2371521,47.44778061],[-68.90493774,47.18500137],[-68.23442841,47.3548584],[-67.79035187,47.06636047],[-67.79129791,45.70280838],[-67.13736725,45.13753128],[-66.0259552,45.25931168],[-64.42546082,45.29204178],[-66.16163635,44.46511841],[-66.12330627,43.61867142],[-65.3639679,43.54523087],[-64.24648285,44.26552963],[-63.25468826,44.67013931],[-61.03983307,45.26525116],[-59.80284119,45.92039871],[-60.44855499,46.28263855],[-60.51810455,47.00793076],[-61.52072144,45.88376999],[-63.17326736,45.7390213],[-64.47214508,46.23849106],[-64.79850769,46.99296951],[-65.11538696,48.07085037],[-64.17092896,48.74248123],[-65.0561676,49.23278046],[-66.5524292,49.1330986],[-68.64992523,48.29999924],[-70.25515747,46.9860611],[-71.10452271,46.82170868],[-69.95360565,47.74488068],[-68.51107788,49.06835938],[-67.23622131,49.51155853],[-66.39904785,50.22896957],[-65.36325073,50.2981987],[-63.8624649,50.29098892],[-61.72360611,50.08045959],[-60.03307343,50.24277115],[-58.77480316,51.06430054],[-57.12687302,51.4197197],[-56.40913773,51.77069855],[-55.68338013,52.14664078],[-55.75631332,53.27035904],[-56.15811157,53.64749146],[-56.93688965,53.78031921],[-57.33318329,54.62649918],[-57.97505569,54.94549179],[-59.56960297,55.20407104],[-60.46848297,55.77547836],[-61.79862976,56.33945084],[-61.3965416,56.96744919],[-62.50233841,58.16707993],[-63.80474854,59.44260025],[-64.58347321,60.33557892],[-65.24506378,59.87070847],[-66.20178223,58.7673111],[-67.64968109,58.21205902],[-68.37447357,58.80105972],[-69.28790283,58.95735931],[-69.62026978,60.22124863],[-69.59036255,61.061409],[-71.37362671,61.13716888],[-71.67704773,61.52534866],[-72.90848541,62.10506821],[-73.8398056,62.44380188],[-74.66810608,62.18111038],[-75.69612122,62.27840042],[-77.41062164,62.55052948],[-78.10687256,62.31964111],[-77.77268982,60.75788116],[-77.33670044,59.85261154],[-78.51681519,58.80458069],[-77.30223083,58.05208969],[-76.62314606,57.20262909],[-76.54127502,56.53422928],[-77.0955658,55.83740997],[-78.22866058,55.13645172],[-79.8294754,54.66772079],[-79.12420654,54.14144897],[-78.6018219,52.56208038],[-79.14299774,51.53393173],[-79.91279602,51.2084198],[-81.4006424,52.15787888],[-82.12497711,53.27703094],[-82.43611145,54.28226852],[-82.27280426,55.14831924],[-83.36051941,55.24488831],[-85.01174927,55.30260086],[-86.07112122,55.72383118],[-87.32410431,55.99914169],[-88.03968811,56.47161865],[-89.0394516,56.8517189],[-90.89759827,57.28467941],[-92.29696655,57.08708954],[-92.76455688,57.84571075],[-93.21491241,58.78211975],[-94.68453979,58.94881821],[-94.62923431,60.11021042],[-94.24150085,60.89865112],[-93.15698242,62.02468872],[-91.93340302,62.83507919],[-90.76999664,62.96020889],[-90.70397949,63.61016846],[-89.91442108,64.0327301],[-88.48285675,64.09896851],[-87.32324219,64.77562714],[-87.03143311,65.21296692],[-86.0675354,66.05625153],[-85.76938629,66.55832672],[-84.73540497,66.25730133],[-83.3445282,66.41153717],[-81.3864212,67.11077881],[-81.25927734,67.59716034],[-81.96434784,68.13253021],[-81.22010803,68.6656723],[-81.28035736,69.16201782],[-82.62253571,69.65825653],[-84.1007309,69.8053894],[-85.52197266,69.8821106],[-85.57656097,68.78456116],[-86.30599213,67.92146301],[-87.35015106,67.19872284],[-88.31739807,67.87338257],[-88.01964569,68.61508179],[-89.21514893,69.25872803],[-90.55151367,68.47499084],[-90.54701996,69.49765778],[-92.40692139,69.69996643],[-91.51954651,70.19129181],[-92.8781662,71.31868744],[-93.88993835,71.76014709],[-95.20880127,71.92053223],[-96.39107513,71.19481659],[-96.47131348,70.08975983],[-95.30407715,69.68570709],[-94.23275757,69.06903076],[-94.68499756,68.06382751],[-95.48932648,68.09069824],[-96.1258316,67.29338074],[-96.1198349,68.23938751],[-97.66938782,68.5786438],[-98.55858612,68.40393829],[-98.44315338,67.78164673],[-99.90188599,67.80565643],[-101.45423889,67.64688873],[-103.22110748,68.0977478],[-104.33786774,68.01799774],[-105.34272766,68.56121826],[-106.14992523,68.80000305],[-106.9499054,68.69999695],[-108.16713715,68.65392303],[-108.81298828,68.31163788],[-107.79232788,67.88735962],[-108.88017273,67.38143921],[-109.9461441,67.98104095],[-110.79795074,67.80612183],[-113.49723816,67.6881485],[-115.30484772,67.90261078],[-113.89783478,68.39890289],[-115.24687195,68.90590668],[-116.22632599,68.84150696],[-117.60264587,69.01127625],[-119.94286346,69.37786102],[-121.47219849,69.7977829],[-122.68344116,69.85552979],[-123.06098938,69.5637207],[-124.28966522,69.39968872],[-124.4247818,70.15840149],[-125.7562561,69.48058319],[-127.44704437,70.37721252],[-128.13795471,70.48384094],[-128.36134338,70.01286316],[-129.10760498,69.77926636],[-129.79464722,70.19368744],[-131.43118286,69.94451141],[-132.92915344,69.50534058],[-134.41445923,69.62743378],[-135.6257019,69.31511688],[-136.50349426,68.89804077],[-137.5461731,68.99002075],[-139.12045288,69.47102356],[-140.9859314,69.71199799],[-140.99237061,66.00003052],[-140.99757385,60.30638885],[-140.01287842,60.27682114],[-139.03887939,60.],[-138.34074402,59.5621109],[-137.45228577,58.90499878],[-136.47950745,59.46389008],[-135.47583008,59.78778076],[-134.94488525,59.27056122],[-134.27088928,58.86111069],[-133.3553772,58.41027832],[-132.73027039,57.69289017],[-131.7077179,56.55212021],[-130.00759888,55.9158287],[-129.97996521,55.28499985],[-130.53590393,54.80278015],[-130.51481628,54.28757095],[-129.30511475,53.56158829],[-129.12973022,52.75537872],[-127.85024261,52.32960892],[-127.99271393,51.71583176],[-127.43560791,50.83060837],[-125.62453461,50.41656113],[-124.9101944,49.98455811],[-122.97415161,49.00253677],[-122.8399353,49.],[-120.,49.],[-117.03116608,49.],[-116.04813385,49.],[-113.,49.],[-110.04997253,49.],[-107.04997253,49.],[-104.048172,48.99985886],[-100.64992523,49.],[-97.22867584,49.0007019],[-95.15904236,49.],[-95.15604401,49.38425064],[-94.81755066,49.38904953],[-94.63990784,48.84000015],[-94.32906342,48.67073822],[-93.63085175,48.60926056],[-92.60997009,48.45000076],[-91.63990784,48.13999939],[-90.82991028,48.27000046],[-89.5999527,48.00999832],[-89.19400024,48.4054718],[-88.62638092,48.5625],[-88.40422821,48.80632019],[-88.17884064,48.93669128],[-87.24900818,48.73508835],[-86.55999756,48.7110672],[-86.32094574,48.57727814],[-86.08039856,48.1268692],[-85.81946564,47.90948868],[-84.86417389,47.86008072],[-85.04055023,47.57569885],[-84.64492035,47.28219986],[-84.81520081,46.90232086],[-84.39554596,46.77682114],[-84.60482025,46.4396019],[-84.3366394,46.40877151],[-84.14865112,46.5557518],[-83.95256805,46.33427048],[-83.20250702,46.21015167],[-82.44193268,46.19963074],[-81.6313324,46.09754181],[-80.73670959,45.90380859],[-80.41048431,45.59012985],[-79.76293945,44.82458878],[-80.08491516,44.49391937],[-80.89759827,44.63164139],[-81.40233612,45.25004959],[-81.27559662,44.62018967],[-81.75260162,44.06464005],[-81.7000885,43.59006882],[-81.78269196,43.31084061],[-82.42998505,42.97999954],[-82.89992523,42.43000031],[-83.11998749,42.08000183],[-82.57121277,42.01702118],[-81.82912445,42.3355217],[-81.39216614,42.6151886],[-81.09485626,42.6607399],[-80.5450592,42.56008148],[-80.27916718,42.71567154],[-79.79128265,42.84202957],[-78.91996765,42.96500015],[-79.00989532,43.27000046],[-79.00989532,43.27000046]],[[-105.49219513,79.3015976],[-103.52918243,79.16535187],[-100.82511139,78.8004837],[-100.06015778,78.32476044],[-99.67086029,77.90753937],[-101.3038559,78.01898193],[-102.94973755,78.34320831],[-105.17603302,78.38034058],[-104.21035767,78.67742157],[-105.41951752,78.91835022],[-105.49219513,79.3015976],[-105.49219513,79.3015976]],[[-132.70991516,54.04000092],[-131.75,54.11999893],[-132.04940796,52.98461914],[-131.17887878,52.18041992],[-131.57769775,52.18236923],[-132.18040466,52.63970947],[-132.54985046,53.09999847],[-133.05451965,53.41147995],[-133.23957825,53.85108185],[-133.17987061,54.16999817],[-132.70991516,54.04000092],[-132.70991516,54.04000092]],[[-78.77062225,72.35218811],[-77.82453918,72.74960327],[-75.6058197,72.24368286],[-74.22852325,71.76715088],[-74.09909058,71.33084106],[-72.24213409,71.55693054],[-71.1999054,70.91999817],[-68.7859726,70.52503204],[-67.91497803,70.12194824],[-66.96895599,69.18608856],[-68.80509949,68.72020721],[-66.44979095,68.06716156],[-64.86228943,67.84754181],[-63.42491531,66.92845917],[-61.85198975,66.86212158],[-62.16312408,66.16024017],[-63.9184227,64.99868011],[-65.14875793,65.42604828],[-66.72116089,66.38804626],[-68.01500702,66.26274109],[-68.14129639,65.68978119],[-67.08956146,65.10845947],[-65.73204041,64.64842987],[-65.32009125,64.38275146],[-64.66933441,63.39291],[-65.01378632,62.67419052],[-66.27498627,62.9450798],[-68.78310394,63.74568176],[-67.36968994,62.88394928],[-66.32820129,62.28005981],[-66.16548157,61.93090057],[-68.87738037,62.33013153],[-71.02342224,62.91070938],[-72.2353363,63.39783859],[-71.88619232,63.68001938],[-73.37828064,64.1939621],[-74.83440399,64.67907715],[-74.81847382,64.38910675],[-77.70994568,64.22953796],[-78.55587006,64.57292175],[-77.89727783,65.30917358],[-76.01824188,65.32698822],[-73.95975494,65.45475769],[-74.29387665,65.81176758],[-73.94487,66.31057739],[-72.65107727,67.28456116],[-72.92597961,67.72692871],[-73.31156158,68.06945038],[-74.84322357,68.55462646],[-76.86904907,68.89473724],[-76.22862244,69.14775848],[-77.28733826,69.76953125],[-78.1685257,69.82647705],[-78.95717621,70.16687775],[-79.49241638,69.87180328],[-81.30538177,69.74317169],[-84.94468689,69.96662903],[-87.05999756,70.26000214],[-88.6816864,70.41072845],[-89.51342773,70.76206207],[-88.46770477,71.21820068],[-89.8881073,71.22254944],[-90.20513153,72.2350769],[-89.43657684,73.12947083],[-88.40815735,73.53787231],[-85.82606506,73.80384064],[-86.56208801,73.15743256],[-85.7743454,72.53411102],[-84.85007477,73.34026337],[-82.31551361,73.7509613],[-80.59998322,72.71653748],[-80.74885559,72.0619278],[-78.77062225,72.35218811],[-78.77062225,72.35218811]],[[-83.88262939,65.10961151],[-82.78748322,64.76669312],[-81.64191437,64.45511627],[-81.55337524,63.97962189],[-80.81728363,64.05747986],[-80.10344696,63.72597122],[-80.99091339,63.41123962],[-82.54706573,63.65171051],[-83.10874176,64.10189056],[-84.1003952,63.56972885],[-85.52334595,63.05239868],[-85.86673737,63.63727951],[-87.22197723,63.54124832],[-86.35268402,64.03582001],[-86.22483063,64.82289886],[-85.8838501,65.73876953],[-85.16120911,65.65730286],[-84.97576904,65.21755219],[-84.46398163,65.37178802],[-83.88262939,65.10961151],[-83.88262939,65.10961151]],[[-55.60017014,51.31708908],[-56.13402557,50.68701172],[-56.79585648,49.81230927],[-56.14309311,50.15013123],[-55.47144318,49.93582153],[-55.82238388,49.5871315],[-54.93510056,49.31301117],[-54.47372818,49.55669022],[-53.47651291,49.24914169],[-53.78600311,48.51676941],[-53.08615112,48.68780899],[-52.95859528,48.15718079],[-52.64810181,47.53554916],[-53.0691452,46.6554985],[-53.52144623,46.6182785],[-54.17892075,46.8070488],[-53.96183777,47.62522125],[-54.24046707,47.7522583],[-55.40074539,46.88499832],[-55.99744415,46.9197197],[-55.29118729,47.38954926],[-56.2507782,47.63254929],[-57.32522202,47.57281113],[-59.26597214,47.6033287],[-59.41949081,47.89947128],[-58.79655838,48.25154114],[-59.23162842,48.5231781],[-58.39178085,49.12561035],[-57.35865784,50.71826935],[-56.73864365,51.28744125],[-55.87096405,51.63209152],[-55.40694427,51.58829117],[-55.60017014,51.31708908],[-55.60017014,51.31708908]],[[-110.96359253,78.80444336],[-109.66314697,78.60195923],[-110.88126373,78.40692139],[-112.54201508,78.40789795],[-112.52587891,78.55056],[-111.5,78.84999847],[-110.96359253,78.80444336],[-110.96359253,78.80444336]],[[-111.26435852,78.15296936],[-109.85440063,77.99633789],[-110.18695068,77.69702911],[-112.05111694,77.40923309],[-113.53420258,77.73220825],[-112.72451782,78.05106354],[-111.26435852,78.15296936],[-111.26435852,78.15296936]],[[-88.15029907,74.39230347],[-89.76470184,74.51557159],[-92.42240143,74.83773804],[-92.76821136,75.3868103],[-92.88986206,75.88263702],[-93.8937912,76.31923676],[-95.96246338,76.44139099],[-97.12128448,76.75108337],[-96.74510193,77.16136932],[-94.6840744,77.09789276],[-93.57390594,76.77629089],[-91.60494995,76.77851868],[-90.74179077,76.44957733],[-90.96955109,76.07401276],[-89.82215881,75.84776306],[-89.18707275,75.6101532],[-87.83824158,75.56620026],[-86.37911987,75.48243713],[-84.78960419,75.69918823],[-82.75339508,75.78431702],[-81.1284256,75.71396637],[-80.05748749,75.33683777],[-79.83390808,74.92311096],[-80.45775604,74.65731049],[-81.94874573,74.44245911],[-83.22888184,74.56404114],[-86.09737396,74.41002655],[-88.15029907,74.39230347],[-88.15029907,74.39230347]],[[-93.8399353,77.51999664],[-94.29556274,77.49134064],[-96.16958618,77.55510712],[-96.43625641,77.83466339],[-94.42251587,77.81999207],[-93.72063446,77.63435364],[-93.8399353,77.51999664],[-93.8399353,77.51999664]],[[-93.61269379,74.98000336],[-94.1568222,74.59234619],[-95.60861206,74.66687775],[-96.82091522,74.92764282],[-96.28855896,75.37780762],[-94.85071564,75.64720917],[-93.97770691,75.29650879],[-93.61269379,74.98000336],[-93.61269379,74.98000336]],[[-121.53780365,74.44892883],[-120.10970306,74.24134827],[-117.55556488,74.18576813],[-116.58440399,73.89607239],[-115.51079559,73.47518921],[-116.7678299,73.22292328],[-119.21994019,72.51999664],[-120.45992279,71.81999969],[-120.45992279,71.40000153],[-123.09213257,70.90164185],[-123.61998749,71.33999634],[-125.92894745,71.86868286],[-125.5927124,72.19451904],[-124.80721283,73.02256012],[-123.94000244,73.68000031],[-124.91770172,74.2927475],[-121.53780365,74.44892883],[-121.53780365,74.44892883],[-121.53780365,74.44892883]],[[-122.8549118,76.11653137],[-121.38990784,76.61467743],[-119.10393524,77.51222229],[-117.57012177,77.49832916],[-116.19850159,77.64528656],[-116.33570099,76.87696075],[-117.10599518,76.5300293],[-118.04039001,76.48116302],[-120.05999756,75.81999969],[-121.92024231,75.85829163],[-122.8549118,76.11653137],[-122.8549118,76.11653137],[-122.8549118,76.11653137]],[[-107.81936646,75.84552002],[-106.9288559,76.01281738],[-105.88096619,75.9693985],[-105.70493317,75.47950745],[-106.31336212,75.00527191],[-109.6999054,74.84999847],[-112.22297668,74.41696167],[-113.74373627,74.39427185],[-113.87132263,74.72029114],[-111.79416656,75.16249847],[-116.31217957,75.04342651],[-117.71037292,75.22219849],[-116.34599304,76.19902802],[-115.4048233,76.47886658],[-112.59046936,76.14134216],[-110.81420135,75.54918671],[-109.06705475,75.4732132],[-110.49724579,76.4298172],[-109.58100891,76.79416656],[-108.54857635,76.67832184],[-108.21131897,76.20168304],[-107.81936646,75.84552002],[-107.81936646,75.84552002],[-107.81936646,75.84552002]],[[-106.52257538,73.07601166],[-105.40235138,72.67259216],[-104.77484131,71.6984024],[-104.46468353,70.99297333],[-102.78530884,70.49775696],[-100.9807663,70.02432251],[-101.08917999,69.58447266],[-102.73111725,69.50402069],[-102.0932312,69.11962128],[-102.43023682,68.75282288],[-104.2399826,68.91000366],[-105.95992279,69.18000031],[-107.12245178,69.11921692],[-109.,68.77999878],[-111.96679688,68.60446167],[-113.31314087,68.53553772],[-113.85488129,69.00743866],[-116.10787964,69.16821289],[-117.3399353,69.95999908],[-116.67463684,70.06655121],[-115.13108826,70.23729706],[-113.72133636,70.19236755],[-112.41605377,70.36637878],[-114.3499527,70.59999847],[-116.48679352,70.52044678],[-117.9047699,70.54055786],[-118.43236542,70.90920258],[-116.11308289,71.30918121],[-117.6556015,71.29519653],[-119.40196228,71.55859375],[-118.56257629,72.3078537],[-117.86637115,72.70594025],[-115.18908691,73.31459045],[-114.16706085,73.12145233],[-114.66629791,72.652771],[-112.44094086,72.95539856],[-111.05031586,72.45040131],[-109.92034912,72.96112823],[-109.00652313,72.63334656],[-108.18824005,71.65088654],[-107.68595886,72.06548309],[-108.39633179,73.08953094],[-107.51638794,73.23597717],[-106.52257538,73.07601166],[-106.52257538,73.07601166],[-106.52257538,73.07601166]],[[-100.43834686,72.70587921],[-101.53995514,73.36000061],[-100.35634613,73.84388733],[-99.16376495,73.63339233],[-97.37989044,73.76000214],[-97.11998749,73.47000122],[-98.05358887,72.99051666],[-96.53995514,72.55999756],[-96.71994019,71.66000366],[-98.35958099,71.27285004],[-99.32276917,71.35639191],[-100.01472473,71.73827362],[-102.5,72.51000214],[-102.47995758,72.83000183],[-100.43834686,72.70587921],[-100.43834686,72.70587921],[-100.43834686,72.70587921]],[[-96.13990784,69.12999725],[-95.53026581,68.74765778],[-96.15207672,68.3970108],[-97.5,68.69999695],[-98.31438446,68.59066772],[-99.67998505,69.04000092],[-98.79997253,69.34999847],[-98.10079956,69.7835083],[-97.03995514,69.5],[-96.44000244,69.31999969],[-96.13990784,69.12999725],[-96.13990784,69.12999725]],[[-106.5999527,73.59999847],[-105.25989532,73.63999939],[-104.5,73.41999817],[-105.37989044,72.76000214],[-106.94000244,73.45999908],[-106.5999527,73.59999847],[-106.5999527,73.59999847]],[[-98.5,76.72000122],[-97.73548126,76.25656128],[-97.70439911,75.74343872],[-98.15994263,75.],[-99.80869293,74.89743805],[-100.88355255,75.05735779],[-100.86290741,75.64074707],[-102.50205994,75.563797],[-102.56546021,76.33660126],[-101.48963928,76.30536652],[-99.98342896,76.64633942],[-98.57694244,76.58859253],[-98.5,76.72000122],[-98.5,76.72000122]],[[-96.01639557,80.60233307],[-95.3234024,80.9072876],[-94.29837036,80.97727203],[-94.73540497,81.20645905],[-92.40973663,81.25739288],[-91.13285828,80.72344971],[-89.4499054,80.50932312],[-87.80999756,80.31999969],[-87.01992035,79.66000366],[-85.8143158,79.3368988],[-87.18756104,79.03929901],[-89.03533173,78.28723145],[-90.80428314,78.21533203],[-92.87660217,78.34333038],[-93.95106506,78.75099182],[-93.93572235,79.11373138],[-93.14516449,79.38009644],[-94.97399902,79.3724823],[-96.07608032,79.70501709],[-96.7097168,80.15776825],[-96.01639557,80.60233307],[-96.01639557,80.60233307]],[[-94.50366211,74.13490295],[-92.41996765,74.09999847],[-90.50972748,73.85671997],[-92.03995514,72.66999817],[-93.19628906,72.77200317],[-94.26904297,72.02458191],[-95.40985107,72.06188202],[-96.03364563,72.9402771],[-96.01822662,73.43743896],[-95.49578857,73.86239624],[-94.50366211,74.13490295],[-94.50366211,74.13490295],[-94.50366211,74.13490295]],[[-91.58692932,81.89428711],[-90.0999527,82.08499908],[-88.93223572,82.11750793],[-86.97019196,82.27960968],[-85.5,82.65227509],[-84.25989532,82.59999847],[-83.17998505,82.31999969],[-82.41996765,82.86000061],[-81.0999527,83.01999664],[-79.30664063,83.13056183],[-76.25,83.17205811],[-75.71871948,83.06404114],[-72.83143616,83.23323822],[-70.66565704,83.16978455],[-68.5,83.10632324],[-65.82731628,83.02800751],[-63.67998505,82.90000153],[-61.8499527,82.62860107],[-61.89384079,82.36164856],[-64.33396912,81.92774963],[-66.75341797,81.72527313],[-67.65751648,81.50141144],[-65.48026276,81.50656891],[-67.8399353,80.90000153],[-69.46962738,80.61682892],[-71.17998505,79.80000305],[-73.24279785,79.63414764],[-73.87989044,79.43016052],[-76.90769958,79.3230896],[-75.52922821,79.19766235],[-76.22045898,79.01907349],[-75.39341736,78.52581024],[-76.34347534,78.18296051],[-77.88846588,77.89990997],[-78.36264801,77.5085907],[-79.75941467,77.20967865],[-79.61960602,76.98336029],[-77.91088867,77.02204132],[-77.88909149,76.7779541],[-80.56118774,76.17812347],[-83.17436218,76.4540329],[-86.11179352,76.29901123],[-87.5999527,76.41999817],[-89.49064636,76.47238922],[-89.61608124,76.95213318],[-87.76728058,77.17832947],[-88.25989532,77.90000153],[-87.64992523,77.97022247],[-84.97629547,77.53872681],[-86.3399353,78.18000031],[-87.96190643,78.37181091],[-87.15197754,78.75866699],[-85.37864685,78.99690247],[-85.09487152,79.34542847],[-86.50730896,79.73623657],[-86.93173218,80.25144958],[-84.19841003,80.20835876],[-83.40868378,80.09999847],[-81.84818268,80.4644165],[-84.0999527,80.58000183],[-87.59892273,80.5162735],[-89.36652374,80.85569],[-90.1999054,81.26000214],[-91.36785889,81.55310059],[-91.58692932,81.89428711],[-91.58692932,81.89428711]],[[-96.75437927,78.76580811],[-94.99940491,78.49972534],[-95.27050781,78.13835144],[-97.30979156,77.85059357],[-98.12424469,78.08286285],[-98.55284119,78.45809174],[-98.63192749,78.87194061],[-97.33721924,78.83200073],[-96.75437927,78.76580811],[-96.75437927,78.76580811],[-96.75437927,78.76580811]],[[-75.21591187,67.44425201],[-75.86580658,67.14885712],[-76.986763,67.09873199],[-77.23638153,67.58808899],[-76.81163025,68.14855957],[-75.89519501,68.28720856],[-75.11450195,68.01036072],[-75.10333252,67.58202362],[-75.21591187,67.44425201],[-75.21591187,67.44425201],[-75.21591187,67.44425201]],[[-79.77580261,72.80290222],[-80.87609863,73.33318329],[-80.83383942,73.6931839],[-80.35299683,73.75971985],[-78.06434631,73.65193176],[-76.3399353,73.10268402],[-76.25140381,72.8263855],[-77.31434631,72.85554504],[-78.39165497,72.87665558],[-79.48616028,72.74220276],[-79.77580261,72.80290222],[-79.77580261,72.80290222]],[[-83.99363708,62.45280075],[-83.25037384,62.9140892],[-81.87691498,62.90457916],[-81.89813995,62.71080017],[-83.06851196,62.15922165],[-83.77457428,62.1823082],[-83.99363708,62.45280075],[-83.99363708,62.45280075]],[[-80.31534576,62.08556366],[-79.92937469,62.38560104],[-79.52001953,62.3637085],[-79.26579285,62.15867615],[-79.65742493,61.63307953],[-80.09953308,61.7181015],[-80.36209106,62.01649094],[-80.31534576,62.08556366],[-80.31534576,62.08556366]],[[-46.76373672,82.62796021],[-43.40642548,83.22515869],[-39.89751434,83.18018341],[-38.62212372,83.54904938],[-35.08784866,83.64512634],[-27.10043716,83.51966095],[-20.84537506,82.7266922],[-22.69181633,82.34165192],[-26.51750374,82.2976532],[-31.89998817,82.19999695],[-31.39644814,82.02153778],[-27.85665703,82.13178253],[-24.84445381,81.78697205],[-22.90326881,82.09317017],[-22.07174301,81.73448944],[-23.16959381,81.15270996],[-20.62362289,81.52462006],[-15.76816654,81.9124527],[-12.77017975,81.71884918],[-12.20854855,81.29154205],[-16.28531837,80.58003998],[-16.84998131,80.34999847],[-20.04622841,80.17707825],[-17.73034286,80.12911987],[-18.89998817,79.40000153],[-19.70498276,78.75128174],[-19.67351532,77.63858795],[-18.47282791,76.98564911],[-20.03500748,76.94434357],[-21.67941666,76.62795258],[-19.83405113,76.0980835],[-19.59894562,75.24838257],[-20.66815376,75.15585327],[-19.3727951,74.29560852],[-21.59419632,74.22382355],[-20.43453979,73.81713104],[-20.76231766,73.4643631],[-22.17221069,73.30954742],[-23.56590652,73.306633],[-22.31311035,72.62928009],[-22.29952049,72.18408966],[-24.27833176,72.5978775],[-24.79294777,72.3302002],[-23.44293404,72.08016205],[-22.13278389,71.46897888],[-21.75355148,70.66368866],[-23.53602219,70.47100067],[-24.30699348,70.85649109],[-25.54338264,71.43093872],[-25.20133018,70.7522583],[-26.36273384,70.22646332],[-23.72741318,70.18401337],[-22.34900856,70.1294632],[-25.02926254,69.25879669],[-27.74735069,68.47045898],[-30.67370224,68.12503052],[-31.77663422,68.12078094],[-32.8110199,67.73547363],[-34.20190811,66.67974091],[-36.35278702,65.97889709],[-37.04374313,65.93768311],[-38.37501144,65.69213104],[-39.81216812,65.45848083],[-40.66896057,64.83997345],[-40.68278885,64.13902283],[-41.18867874,63.48246002],[-42.8193512,62.68233109],[-42.41665268,61.9009285],[-42.86616898,61.07403946],[-43.37837601,60.0977211],[-44.7874527,60.03675842],[-46.26364136,60.85327911],[-48.26293945,60.85842896],[-49.23304367,61.40681076],[-49.90039063,62.38336182],[-51.6332283,63.62691116],[-52.1401329,64.27841949],[-52.27657318,65.17669678],[-53.66164398,66.09957123],[-53.30160141,66.83650208],[-53.96906281,67.18898773],[-52.98035431,68.35758972],[-51.47532272,68.72958374],[-51.0803566,69.14781189],[-50.87121201,69.92910004],[-52.01357651,69.57492828],[-52.55786514,69.42616272],[-53.45624542,69.28362274],[-54.68333817,69.61003113],[-54.74998856,70.2893219],[-54.35881042,70.82131195],[-53.43129349,70.83575439],[-51.3901329,70.56977844],[-53.10931778,71.20484924],[-54.0042038,71.54718781],[-55.,71.40653992],[-55.83463287,71.65444183],[-54.71815109,72.58625031],[-55.3263092,72.95861053],[-56.12002182,73.64977264],[-57.32358551,74.71025848],[-58.59675217,75.09860992],[-58.58512878,75.51727295],[-61.26856232,76.10237885],[-63.39161301,76.17520142],[-66.06427002,76.13485718],[-68.50428772,76.061409],[-69.66474152,76.37975311],[-71.40248108,77.00856781],[-68.77663422,77.32312012],[-66.76386261,77.37595367],[-71.04288483,77.63594818],[-73.29699707,78.04418945],[-73.15934753,78.43270874],[-69.37337494,78.91387939],[-65.71068573,79.3943634],[-65.32380676,79.75814056],[-68.0229187,80.11721039],[-67.15119934,80.51582336],[-63.68922806,81.21395874],[-62.23443222,81.32109833],[-62.65114594,81.77041626],[-60.28245163,82.03363037],[-57.20741653,82.19074249],[-54.13438034,82.19962311],[-53.0432663,81.88832855],[-50.39057922,82.43882751],[-48.00382996,82.06481171],[-46.59980774,81.98594666],[-44.52296066,81.66069794],[-46.90069199,82.19979095],[-46.76373672,82.62796021],[-46.76373672,82.62796021]],[[-64.51908875,49.87303925],[-64.17321777,49.95718002],[-62.85826111,49.70640945],[-61.83555603,49.28855133],[-61.80630493,49.10506058],[-62.29312515,49.08716965],[-63.5892067,49.40068817],[-64.51908875,49.87303925],[-64.51908875,49.87303925]],[[-64.01480103,47.03601074],[-63.6644783,46.55001068],[-62.93930054,46.41587067],[-62.01202774,46.44313812],[-62.50390244,46.03339005],[-62.87432861,45.96818161],[-64.14272308,46.3926506],[-64.39254761,46.7274704],[-64.01480103,47.03601074],[-64.01480103,47.03601074]]]},
	'US' : {name:"United States", borders:[[[-72.29496765,41.27000046],[-72.87638092,41.22064972],[-73.70992279,40.93110275],[-72.24116516,41.11948013],[-71.94489288,40.93000031],[-73.34494019,40.63000107],[-73.981987,40.62799835],[-73.9522171,40.7507515],[-74.25659943,40.47351074],[-73.9623642,40.42763138],[-74.17830658,39.70925903],[-74.90597534,38.93954086],[-74.98040771,39.19639969],[-75.20000458,39.24845123],[-75.52797699,39.49850082],[-75.31989288,38.95999908],[-75.08345032,38.78120041],[-75.05667114,38.4041214],[-75.37741089,38.01551056],[-75.94013977,37.21688843],[-76.03122711,37.25659943],[-75.72203827,37.93704987],[-76.23282623,38.31921387],[-76.3499527,39.15000153],[-76.54272461,38.71761322],[-76.32923889,38.08325958],[-76.95992279,38.23288345],[-76.30152893,37.91794586],[-76.25871277,36.96640015],[-75.97180176,36.89725876],[-75.86804199,36.55125046],[-75.72746277,35.55073929],[-76.36313629,34.80854034],[-77.3975296,34.51200867],[-78.05490112,33.92546844],[-78.55429077,33.86132813],[-79.06066895,33.49394989],[-79.20353699,33.15839005],[-80.30121613,32.50935364],[-80.86487579,32.03329849],[-81.3361969,31.44049072],[-81.49041748,30.72999001],[-81.31360626,30.03552055],[-80.97995758,29.18000031],[-80.5355835,28.47212982],[-80.52993774,28.04000092],[-80.05649567,26.87999916],[-80.0880127,26.20576477],[-80.13150024,25.81677437],[-80.38093567,25.20615959],[-80.67998505,25.07999992],[-81.17211151,25.20125961],[-81.32991028,25.63999939],[-81.70992279,25.87000084],[-82.2399826,26.72999954],[-82.70513153,27.49504089],[-82.85518646,27.88624001],[-82.64992523,28.54999924],[-82.92998505,29.10000038],[-83.70948029,29.93655968],[-84.0999527,30.09000015],[-85.10871124,29.63615036],[-85.2878418,29.68611908],[-85.77304077,30.15261078],[-86.39992523,30.39999962],[-87.53031158,30.27433014],[-88.4177475,30.38489914],[-89.18047333,30.31598091],[-89.60491943,30.17635918],[-89.41365814,29.89418983],[-89.42998505,29.48863983],[-89.21763611,29.29108047],[-89.40817261,29.15961075],[-89.77919006,29.30714035],[-90.15457153,29.11742973],[-90.88014984,29.14853477],[-91.62675476,29.67700005],[-92.49898529,29.5522995],[-93.22626495,29.78375053],[-93.84835815,29.71363068],[-94.69000244,29.47999954],[-95.60018158,28.73863029],[-96.59394836,28.30747986],[-97.13990784,27.82999992],[-97.36998749,27.37999916],[-97.37989044,26.69000053],[-97.32991028,26.20999908],[-97.13990784,25.87000084],[-97.52993774,25.84000015],[-98.2399826,26.05999947],[-99.01992035,26.37000084],[-99.29997253,26.84000015],[-99.51992035,27.54000092],[-100.10997009,28.11000061],[-100.45578003,28.69611931],[-100.95755768,29.3807106],[-101.66230774,29.77930069],[-102.47995758,29.76000023],[-103.10997009,28.96999931],[-103.94000244,29.27000046],[-104.45697021,29.57196045],[-104.70574951,30.1217308],[-105.03733826,30.64402008],[-105.6315918,31.08382988],[-106.14286804,31.39995003],[-106.50754547,31.75452042],[-108.2399826,31.7548542],[-108.24194336,31.34222031],[-109.03494263,31.34193993],[-111.02350616,31.33472061],[-113.30488586,32.03913879],[-114.81500244,32.52528],[-114.72135925,32.72082901],[-115.99131775,32.61238861],[-117.12773132,32.53533936],[-117.29586029,33.0462265],[-117.94393921,33.62123489],[-118.41056824,33.74090958],[-118.51989746,34.02778244],[-119.08098602,34.07799911],[-119.43884277,34.34847641],[-120.36769104,34.44710922],[-120.62286377,34.60855103],[-120.7443161,35.15686035],[-121.71450806,36.16152954],[-122.54737854,37.55176163],[-122.51191711,37.78339005],[-122.95317841,38.1137085],[-123.72714233,38.95166016],[-123.86517334,39.76699066],[-124.39807129,40.3132019],[-124.17880249,41.14202118],[-124.21366882,41.99964142],[-124.53283691,42.76599121],[-124.14203644,43.70838165],[-123.89891815,45.5234108],[-124.07954407,46.86474991],[-124.39559174,47.72016907],[-124.68717957,48.18443298],[-124.56610107,48.37971497],[-123.11998749,48.04000092],[-122.58732605,47.09600067],[-122.3399353,47.36000061],[-122.5,48.18000031],[-122.8399353,49.],[-120.,49.],[-117.03116608,49.],[-116.04813385,49.],[-113.,49.],[-110.04997253,49.],[-107.04997253,49.],[-104.048172,48.99985886],[-100.64992523,49.],[-97.22867584,49.0007019],[-95.15904236,49.],[-95.15604401,49.38425064],[-94.81755066,49.38904953],[-94.63990784,48.84000015],[-94.32906342,48.67073822],[-93.63085175,48.60926056],[-92.60997009,48.45000076],[-91.63990784,48.13999939],[-90.82991028,48.27000046],[-89.5999527,48.00999832],[-90.42497253,47.73500824],[-90.61998749,47.68000031],[-91.32991028,47.27999878],[-92.00868225,46.85842133],[-92.01187134,46.71168137],[-91.00989532,46.91999817],[-90.33087158,46.49705505],[-89.3114624,46.79362869],[-88.82253265,47.15478134],[-87.93984985,47.48590851],[-88.26123047,46.95856094],[-87.69425964,46.83103943],[-86.9899826,46.45000076],[-86.10259247,46.67266083],[-85.11998749,46.75999832],[-84.90994263,46.47999954],[-84.60482025,46.4396019],[-84.3366394,46.40877151],[-83.8391571,46.01020813],[-84.71994019,45.91999817],[-84.94374084,45.95002747],[-85.53995514,46.02999878],[-86.31989288,45.83000183],[-87.,45.74000168],[-87.53917694,45.17393112],[-87.98823547,44.73331833],[-87.85274506,44.61503983],[-87.11802673,45.25933075],[-86.96744537,45.26287842],[-87.48629761,44.49335098],[-87.71221924,43.79650879],[-87.9020462,43.23051834],[-87.77672577,42.74087143],[-87.79560852,42.23411942],[-87.52606964,41.70851135],[-87.09439087,41.64617157],[-86.62184143,41.89442062],[-86.21595764,42.38169098],[-86.18839264,43.04140854],[-86.51992035,43.65999985],[-86.47026825,44.08422852],[-86.20935059,44.57477188],[-85.95972443,44.91059875],[-85.55999756,45.15000153],[-85.46699524,44.81459045],[-85.29036713,45.30826187],[-85.06989288,45.40999985],[-84.92998505,45.79000092],[-84.07991028,45.59000015],[-83.3399353,45.20000076],[-83.25878906,44.74571991],[-83.3499527,44.29000092],[-83.89992523,43.88999939],[-83.84867859,43.63830948],[-83.64992523,43.63000107],[-83.02993774,44.06999969],[-82.65994263,43.97000122],[-82.47995758,43.38999939],[-82.42998505,42.97999954],[-82.89992523,42.43000031],[-83.11998749,42.08000183],[-83.41996765,41.72999954],[-82.84604645,41.48711014],[-82.34737396,41.43590927],[-81.62343597,41.56893158],[-81.03118896,41.84550858],[-80.45462036,42.00437164],[-79.76209259,42.26961899],[-78.9005661,42.86671829],[-78.91996765,42.96500015],[-79.00989532,43.27000046],[-78.06989288,43.36999893],[-77.5999527,43.24000168],[-76.92998505,43.25999832],[-76.17998505,43.59000015],[-76.23924255,43.97914886],[-76.375,44.09630966],[-75.31814575,44.81644821],[-74.86688995,45.00048065],[-73.34772491,45.00738144],[-71.50495148,45.0082016],[-71.40493774,45.25500107],[-71.08473206,45.30524063],[-70.65994263,45.45999908],[-70.30498505,45.91500092],[-69.99990845,46.69306946],[-69.2371521,47.44778061],[-68.90493774,47.18500137],[-68.23442841,47.3548584],[-67.79035187,47.06636047],[-67.79129791,45.70280838],[-67.13736725,45.13753128],[-66.96466064,44.80970001],[-68.03242493,44.32519913],[-69.05999756,43.97999954],[-70.11612701,43.68405151],[-70.69000244,43.02999878],[-70.81487274,42.86529922],[-70.8249054,42.33499908],[-70.49498749,41.80500031],[-70.07991028,41.77999878],[-70.18499756,42.14500046],[-69.88492584,41.92282867],[-69.96502686,41.63716888],[-70.63990784,41.47499847],[-71.12033081,41.49444962],[-71.85997009,41.31999969],[-72.29496765,41.27000046],[-72.29496765,41.27000046]],[[-140.9859314,69.71199799],[-140.99237061,66.00003052],[-140.99757385,60.30638885],[-140.01287842,60.27682114],[-139.03887939,60.],[-138.34074402,59.5621109],[-137.45228577,58.90499878],[-136.47950745,59.46389008],[-135.47583008,59.78778076],[-134.94488525,59.27056122],[-134.27088928,58.86111069],[-133.3553772,58.41027832],[-132.73027039,57.69289017],[-131.7077179,56.55212021],[-130.00759888,55.9158287],[-129.97996521,55.28499985],[-130.53590393,54.80278015],[-131.08580017,55.17889023],[-131.96710205,55.49777985],[-132.25,56.36999893],[-133.53895569,57.17889023],[-134.07794189,58.12305832],[-135.03797913,58.18769836],[-136.6280365,58.21221924],[-137.79985046,58.5],[-139.86756897,59.53778076],[-140.82510376,59.72750092],[-142.57424927,60.08443832],[-143.95883179,59.9991684],[-145.92550659,60.45861053],[-147.114151,60.8846817],[-148.22418213,60.67301941],[-148.01806641,59.9783287],[-148.57077026,59.91416931],[-149.72770691,59.70563889],[-150.60806274,59.36822128],[-151.7162323,59.15583038],[-151.85931396,59.74499893],[-151.40962219,60.72583008],[-150.34690857,61.0336113],[-150.62107849,61.28443909],[-151.89567566,60.72721863],[-152.57817078,60.0616684],[-154.01916504,59.35028076],[-153.28744507,58.86471939],[-154.23234558,58.14638901],[-155.30749512,57.72777939],[-156.30812073,57.42277908],[-156.55595398,56.97999954],[-158.11715698,56.4636116],[-158.43312073,55.99417114],[-159.60321045,55.56666946],[-160.28962708,55.64360809],[-161.22299194,55.36471939],[-162.23756409,55.02416992],[-163.06922913,54.68972015],[-164.78549194,54.40417099],[-164.94206238,54.57221985],[-163.84820557,55.03944016],[-162.86999512,55.34806061],[-161.8039856,55.89500046],[-160.56358337,56.00806046],[-160.07055664,56.4180603],[-158.68421936,57.01667023],[-158.46101379,57.21694183],[-157.72277832,57.56999969],[-157.55006409,58.32833099],[-157.0415802,58.91889191],[-158.19468689,58.61582947],[-158.51719666,58.78778076],[-159.05857849,58.42417145],[-159.71166992,58.93138885],[-159.98112488,58.57255936],[-160.35516357,59.07110977],[-161.35496521,58.67082977],[-161.96885681,58.67166901],[-162.05487061,59.26694107],[-161.87411499,59.63360977],[-162.51806641,59.98971939],[-163.81814575,59.79806137],[-164.66200256,60.26750183],[-165.34623718,60.50749969],[-165.35083008,61.07389069],[-166.12129211,61.5],[-165.73431396,62.07500076],[-164.91896057,62.63306046],[-164.5625,63.14638901],[-163.75326538,63.21944046],[-163.06706238,63.05944061],[-162.26043701,63.54193878],[-161.53440857,63.45582962],[-160.77241516,63.76610947],[-160.95817566,64.22277832],[-161.51806641,64.40277863],[-160.77763367,64.78861237],[-161.39175415,64.77722168],[-162.45294189,64.55944061],[-162.75759888,64.33860779],[-163.54638672,64.55917358],[-164.96080017,64.44693756],[-166.42506409,64.6866684],[-166.84494019,65.08889008],[-168.11038208,65.66999817],[-166.7051239,66.08833313],[-164.47450256,66.57666779],[-163.6524353,66.57666779],[-163.7885437,66.0772171],[-161.6776886,66.11611176],[-162.48953247,66.73555756],[-163.71972656,67.11638641],[-164.43083191,67.61634827],[-165.39024353,68.04277802],[-166.76437378,68.35888672],[-166.20469666,68.88305664],[-164.43075562,68.9155426],[-163.16854858,69.37110901],[-162.93052673,69.85806274],[-161.90873718,70.33332825],[-160.93460083,70.44767761],[-159.03895569,70.89167023],[-158.11953735,70.82472229],[-156.58079529,71.35778046],[-155.06771851,71.14778137],[-154.34405518,70.69638824],[-153.89981079,70.88999939],[-152.20991516,70.83000183],[-152.26979065,70.59999847],[-150.73997498,70.43000031],[-149.71994019,70.52999878],[-147.61320496,70.2140274],[-145.68988037,70.12000275],[-144.91984558,69.98999786],[-143.58926392,70.15249634],[-142.07228088,69.85193634],[-140.9859314,69.71199799],[-140.9859314,69.71199799]],[[-171.73146057,63.78250122],[-171.11431885,63.59222031],[-170.49107361,63.69499969],[-169.68249512,63.43111038],[-168.68922424,63.29750061],[-168.77175903,63.18861008],[-169.52940369,62.97694016],[-170.29049683,63.19443893],[-170.67138672,63.3758316],[-171.55290222,63.31777954],[-171.79092407,63.40583038],[-171.73146057,63.78250122],[-171.73146057,63.78250122]],[[-153.22853088,57.96900177],[-152.56459045,57.90145111],[-152.14108276,57.59107971],[-153.00613403,57.11584091],[-154.00491333,56.73468018],[-154.51631165,56.99274826],[-154.67080688,57.46118927],[-153.76260376,57.81658173],[-153.22853088,57.96900177],[-153.22853088,57.96900177]],[[-166.46777344,60.38417053],[-165.67443848,60.29360962],[-165.57904053,59.90999985],[-166.19271851,59.75444031],[-166.84820557,59.94139099],[-167.4551239,60.21305847],[-166.46777344,60.38417053],[-166.46777344,60.38417053]],[[-155.40205383,20.07975006],[-155.22445679,19.9930191],[-155.06225586,19.85910034],[-154.80734253,19.50871086],[-154.83137512,19.4532795],[-155.22216797,19.23971939],[-155.54211426,19.08348083],[-155.68804932,18.91618919],[-155.93664551,19.05938911],[-155.90785217,19.33888054],[-156.07325745,19.70293999],[-156.02368164,19.81422043],[-155.84986877,19.9772892],[-155.91906738,20.1739502],[-155.86108398,20.26721001],[-155.78501892,20.24869919],[-155.40205383,20.07975006],[-155.40205383,20.07975006]],[[-155.99554443,20.76403999],[-156.07919312,20.64397049],[-156.41441345,20.57241058],[-156.58660889,20.78300095],[-156.7016449,20.86429977],[-156.71034241,20.92675972],[-156.61251831,21.01248932],[-156.25704956,20.91744995],[-155.99554443,20.76403999],[-155.99554443,20.76403999]],[[-156.75811768,21.17683983],[-156.78927612,21.0687294],[-157.32518005,21.09777069],[-157.25021362,21.2195797],[-156.75811768,21.17683983],[-156.75811768,21.17683983]],[[-158.02508545,21.71696091],[-157.94145203,21.6527195],[-157.65283203,21.32217026],[-157.70703125,21.26441956],[-157.77853394,21.27729034],[-158.12651062,21.31244087],[-158.25376892,21.53919029],[-158.29255676,21.57912064],[-158.02508545,21.71696091],[-158.02508545,21.71696091]],[[-159.36550903,22.21493912],[-159.34506226,21.98200035],[-159.46353149,21.88298988],[-159.80032349,22.06533051],[-159.74855042,22.13820076],[-159.59617615,22.23617935],[-159.36550903,22.21493912],[-159.36550903,22.21493912]]]},
	'MX' : {name:"Mexico", borders:[[[-97.13990784,25.87000084],[-97.52796173,24.99213982],[-97.70294189,24.27234077],[-97.7759552,22.93258095],[-97.87226868,22.44421959],[-97.69902039,21.89868927],[-97.38887024,21.41101074],[-97.18932343,20.63544083],[-96.52557373,19.89093971],[-96.29209137,19.32037926],[-95.90087891,18.8280201],[-94.8390274,18.56271935],[-94.42569733,18.14438057],[-93.54862976,18.42383957],[-92.78603363,18.5248394],[-92.03734589,18.70457077],[-91.40788269,18.87607956],[-90.7718277,19.28412056],[-90.53356171,19.8674202],[-90.45136261,20.70752907],[-90.27851868,20.99983978],[-89.60131836,21.26173019],[-88.54377747,21.49367905],[-87.65835571,21.45885086],[-87.05187988,21.54355049],[-86.81192017,21.33152008],[-86.84587097,20.84985924],[-87.3832016,20.25542068],[-87.6210022,19.64656067],[-87.43667603,19.47238922],[-87.58652496,19.04013062],[-87.83713531,18.25980949],[-88.09061432,18.51663971],[-88.29995728,18.49999046],[-88.49010468,18.48682976],[-88.84831238,17.88319016],[-89.02984619,18.00152016],[-89.15084839,17.95545959],[-89.14306641,17.80830956],[-90.0679245,17.81932068],[-91.00141907,17.81760025],[-91.0022583,17.25465012],[-91.45391846,17.25218964],[-91.08165741,16.91847038],[-90.71176147,16.68748093],[-90.60082245,16.47076988],[-90.43881226,16.41012001],[-90.46447754,16.0695591],[-91.74788666,16.06657982],[-92.22924805,15.25144005],[-92.0871048,15.06459045],[-92.20314026,14.8301096],[-92.22768402,14.5388298],[-93.35940552,15.61544037],[-93.87518311,15.94017982],[-94.69165039,16.20099068],[-95.25013733,16.12833023],[-96.05329895,15.75207996],[-96.55731964,15.65351009],[-97.26351166,15.91707993],[-98.0129776,16.10732079],[-98.94769287,16.56604004],[-99.69736481,16.70618057],[-100.829422,17.1710701],[-101.6660614,17.64901924],[-101.91850281,17.91609001],[-102.47803497,17.97574997],[-103.5009613,18.29229927],[-103.91744232,18.74856949],[-104.99188995,19.31612968],[-105.49304199,19.94676971],[-105.73136902,20.43411064],[-105.39765167,20.53170967],[-105.50067139,20.81689072],[-105.27064514,21.07629013],[-105.26580811,21.4221096],[-105.60312653,21.87114906],[-105.69330597,22.26907921],[-106.02866364,22.77375984],[-106.90997314,23.7677803],[-107.9153595,24.54891968],[-108.40180969,25.17233086],[-109.26019287,25.58060074],[-109.44408417,25.82489014],[-109.29161072,26.4429493],[-109.80144501,26.67617035],[-110.39172363,27.16210938],[-110.64097595,27.85987091],[-111.17887878,27.94125938],[-111.75956726,28.46795082],[-112.22818756,28.95439911],[-112.27175903,29.26683044],[-112.80953979,30.02109909],[-113.16371155,30.78688049],[-113.14868164,31.17098045],[-113.8717804,31.56760979],[-114.20565033,31.52404976],[-114.77640533,31.79953957],[-114.9365921,31.39348984],[-114.77112579,30.91361046],[-114.67388916,30.16268921],[-114.33088684,29.75041962],[-113.58885193,29.06162071],[-113.42398071,28.82616997],[-113.27196503,28.75477982],[-113.13999939,28.41128922],[-112.96225739,28.42518044],[-112.76148224,27.78021049],[-112.45785522,27.52581024],[-112.24491882,27.17173958],[-111.61643219,26.66282082],[-111.28465271,25.73258972],[-110.98775482,25.29460907],[-110.70992279,24.82600021],[-110.65499878,24.29858971],[-110.17285156,24.26553917],[-109.77173615,23.81118011],[-109.40901184,23.36466026],[-109.43331146,23.18559074],[-109.85414124,22.81826973],[-110.03135681,22.82307053],[-110.29502869,23.43096924],[-110.94942474,24.00094986],[-111.67050171,24.48443031],[-112.18197632,24.73842049],[-112.14887238,25.47014046],[-112.30062103,26.01198959],[-112.77727509,26.32196045],[-113.46465302,26.76819038],[-113.59674072,26.63945007],[-113.84892273,26.90004921],[-114.4656601,27.14208984],[-115.05509186,27.72273064],[-114.98221588,27.79820061],[-114.57026672,27.74148941],[-114.19924164,28.11500931],[-114.16195679,28.56611061],[-114.93180847,29.27947044],[-115.51856995,29.55636024],[-115.88729858,30.18079948],[-116.25826263,30.83646011],[-116.72146606,31.63573074],[-117.12773132,32.53533936],[-115.99131775,32.61238861],[-114.72135925,32.72082901],[-114.81500244,32.52528],[-113.30488586,32.03913879],[-111.02350616,31.33472061],[-109.03494263,31.34193993],[-108.24194336,31.34222031],[-108.2399826,31.7548542],[-106.50754547,31.75452042],[-106.14286804,31.39995003],[-105.6315918,31.08382988],[-105.03733826,30.64402008],[-104.70574951,30.1217308],[-104.45697021,29.57196045],[-103.94000244,29.27000046],[-103.10997009,28.96999931],[-102.47995758,29.76000023],[-101.66230774,29.77930069],[-100.95755768,29.3807106],[-100.45578003,28.69611931],[-100.10997009,28.11000061],[-99.51992035,27.54000092],[-99.29997253,26.84000015],[-99.01992035,26.37000084],[-98.2399826,26.05999947],[-97.52993774,25.84000015],[-97.13990784,25.87000084],[-97.13990784,25.87000084]]]}
};


//  Our national border data is rather tightly packed for compression reasons:
//  multiplePolygons[ aSinglePolygon[ aPoint[ latitude, longitude ], ... ], ... ]
//  For convenience let's unpack the Latitudes and Longitudes to make the structure:
//  multiplePolygons[ aSinglePolygon[ { lat, lng }, ... ], ... ]

for( var key in XM.nations )
{
	var nation = XM.nations[ key ];
	nation.borders.forEach( function( b )
	{
		b.forEach( function( p, i )
		{
			b[ i ] = { lat: p[ 1 ], lng: p[ 0 ] };
		});
	});
};